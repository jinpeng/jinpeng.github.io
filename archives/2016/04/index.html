
<!DOCTYPE html>
<html lang="zh-cn">
    
<head>
    <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="Jinpeng&#39;s Blog">
    <title>归档: 2016/4 - Jinpeng&#39;s Blog</title>
    <meta name="author" content="Dong Jinpeng">
    
    
    
    <script type="application/ld+json">{}</script>
    <meta property="og:type" content="blog">
<meta property="og:title" content="Jinpeng&#39;s Blog">
<meta property="og:url" content="http://jinpeng.github.io/archives/2016/04/index.html">
<meta property="og:site_name" content="Jinpeng&#39;s Blog">
<meta property="og:locale" content="zh-cn">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Jinpeng&#39;s Blog">
    
    
        
    
    
    
    
    
    <!--STYLES-->
    <link rel="stylesheet" href="/assets/css/style-jhk7ynl4eeku9fkdluf6wcwh4hq8psdceplcmfpwurnqljowlwxrvylq6moy.min.css">
    <!--STYLES END--><!-- hexo-inject:begin --><!-- hexo-inject:end -->
    

    
</head>

    <body>
        <!-- hexo-inject:begin --><!-- hexo-inject:end --><div id="blog">
            <!-- Define author's picture -->


    

<header id="header" data-behavior="1">
    <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
    <div class="header-title">
        <a class="header-title-link" href="/ ">Jinpeng&#39;s Blog</a>
    </div>
    
        
            <a  class="header-right-picture "
                href="#about">
        
        
        </a>
    
</header>

            <!-- Define author's picture -->


<nav id="sidebar" data-behavior="1">
    <div class="sidebar-container">
        
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="/ "
                            
                            title="首页"
                        >
                    
                        <i class="sidebar-button-icon fa fa-lg fa-home" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">首页</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="/all-categories"
                            
                            title="分类"
                        >
                    
                        <i class="sidebar-button-icon fa fa-lg fa-bookmark" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">分类</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="/all-tags"
                            
                            title="标签"
                        >
                    
                        <i class="sidebar-button-icon fa fa-lg fa-tags" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">标签</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="/all-archives"
                            
                            title="归档"
                        >
                    
                        <i class="sidebar-button-icon fa fa-lg fa-archive" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">归档</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link open-algolia-search"
                             href="#search"
                            
                            title="搜索"
                        >
                    
                        <i class="sidebar-button-icon fa fa-lg fa-search" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">搜索</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="#about"
                            
                            title="关于"
                        >
                    
                        <i class="sidebar-button-icon fa fa-lg fa-question" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">关于</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="/atom.xml"
                            
                            title="RSS"
                        >
                    
                        <i class="sidebar-button-icon fa fa-lg fa-rss" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">RSS</span>
                    </a>
            </li>
            
        </ul>
        
    </div>
</nav>

            
            <div id="main" data-behavior="1"
                 class="
                        hasCoverMetaIn
                        ">
                
    <section class="postShorten-group main-content-wrap">
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a class="link-unstyled" href="/2016/04/28/Open-edX-Analytics-devstack-on-Ubuntu-without-Vagrant/">
                            Open edX Analytics devstack on Ubuntu without Vagrant
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2016-04-28T16:32:04+08:00">
	
		    4月 28, 2016
    	
    </time>
    
</div>

            </div>
            
                <div class="postShorten-content">
                    <h2 id="Open-edX-Analytics-devstack-on-Ubuntu-without-Vagrant"><a href="#Open-edX-Analytics-devstack-on-Ubuntu-without-Vagrant" class="headerlink" title="Open edX Analytics devstack on Ubuntu without Vagrant"></a>Open edX Analytics devstack on Ubuntu without Vagrant</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ ssh root@123.56.40.252</span><br><span class="line"><span class="comment"># adduser ubuntu</span></span><br><span class="line"><span class="comment"># chmod +w /etc/sudoers</span></span><br><span class="line"><span class="comment"># vim /etc/sudoers</span></span><br></pre></td></tr></table></figure>
<p>Add following line into the file:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ubuntu  ALL=(ALL:ALL) ALL</span><br></pre></td></tr></table></figure>
<p>Make it looks like:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line"># User privilege specification</span><br><span class="line">root    ALL=(ALL:ALL) ALL</span><br><span class="line">ubuntu  ALL=(ALL:ALL) ALL</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># chmod -w /etc/sudoers</span><br><span class="line"># su - ubuntu</span><br><span class="line">$ git clone https://github.com/edx/edx-analytics-pipeline</span><br><span class="line">$ cd edx-analytics-pipeline</span><br><span class="line">$ source venv/bin/activate</span><br><span class="line">(venv)$ make bootstrap</span><br></pre></td></tr></table></figure>
                    
                        

                    
                    
                        <p>
                            <a href="/2016/04/28/Open-edX-Analytics-devstack-on-Ubuntu-without-Vagrant/#post-footer" class="postShorten-excerpt_link link">
                                评论和共享
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a class="link-unstyled" href="/2016/04/21/Open-edX-devstack-on-Ubuntu-without-Vagrant/">
                            Open edX devstack on Ubuntu without Vagrant
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2016-04-21T18:21:33+08:00">
	
		    4月 21, 2016
    	
    </time>
    
</div>

            </div>
            
                <div class="postShorten-content">
                    <h2 id="Install-open-edX-devstack-on-Ubuntu-14-04-directly"><a href="#Install-open-edX-devstack-on-Ubuntu-14-04-directly" class="headerlink" title="Install open edX devstack on Ubuntu 14.04 directly"></a>Install open edX devstack on Ubuntu 14.04 directly</h2><p>Launch EC2 instance with 2 vCPUs 4G memory</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ ssh -i .ssh/aws-es.pem ubuntu@54.199.222.211</span><br><span class="line">$ sudo apt-get update -y</span><br><span class="line">$ sudo apt-get upgrade -y</span><br><span class="line">$ sudo reboot</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">$ ssh -i .ssh/aws-es.pem ubuntu@54.199.222.211</span><br><span class="line">$ <span class="built_in">export</span> OPENEDX_RELEASE=named-release/dogwood</span><br><span class="line">$ wget https://raw.githubusercontent.com/edx/configuration/master/util/install/ansible-bootstrap.sh</span><br><span class="line">$ chmod +x ansible-bootstrap.sh</span><br><span class="line">$ sudo ./ansible-bootstrap.sh</span><br><span class="line">$ grep -rl <span class="string">"vagrant"</span> /edx/app/edx_ansible/edx_ansible/playbooks/roles/local_dev/</span><br><span class="line">$ grep -rl <span class="string">"vagrant"</span> /edx/app/edx_ansible/edx_ansible/playbooks/roles/local_dev/ | xargs sudo sed -i <span class="string">'s/vagrant/ubuntu/g'</span></span><br><span class="line">$ sudo sed -i <span class="string">'/edxapp_user: edxapp/ a\edxapp_ruby_version: "1.9.3-p551"'</span> /edx/app/edx_ansible/edx_ansible/playbooks/roles/edxapp/defaults/main.yml</span><br><span class="line">$ sudo sed -i <span class="string">'/- name: git checkout edx_ansible repo into edx_ansible_code_dir/ a\  ignore_errors: yes'</span> /edx/app/edx_ansible/edx_ansible/playbooks/roles/edx_ansible/tasks/deploy.yml</span><br><span class="line">$ sudo sed -i <span class="string">'/- edxapp_common/ a\  - role: rbenv\n    rbenv_user: "&#123;&#123; edxapp_user &#125;&#125;"\n    rbenv_dir: "&#123;&#123; edxapp_app_dir &#125;&#125;"\n    rbenv_ruby_version: "&#123;&#123; edxapp_ruby_version &#125;&#125;"'</span> /edx/app/edx_ansible/edx_ansible/playbooks/roles/edxapp/meta/main.yml</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ vim devstack.sh</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [ ! -d /edx/app/edx_ansible ]; <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">"Error: Base box is missing provisioning scripts."</span> 1&gt;&amp;2</span><br><span class="line">    <span class="built_in">exit</span> 1</span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line">OPENEDX_RELEASE=named-release/dogwood</span><br><span class="line"><span class="built_in">export</span> PYTHONUNBUFFERED=1</span><br><span class="line"><span class="built_in">source</span> /edx/app/edx_ansible/venvs/edx_ansible/bin/activate</span><br><span class="line"><span class="built_in">export</span> PIP_REQUIRE_VIRTUALENV=<span class="literal">true</span></span><br><span class="line"><span class="built_in">export</span> PIP_RESPECT_VIRTUALENV=<span class="literal">true</span></span><br><span class="line"><span class="built_in">cd</span> /edx/app/edx_ansible/edx_ansible/playbooks</span><br><span class="line"></span><br><span class="line"><span class="comment"># Did we specify an openedx release?</span></span><br><span class="line"><span class="keyword">if</span> [ -n <span class="string">"<span class="variable">$OPENEDX_RELEASE</span>"</span> ]; <span class="keyword">then</span></span><br><span class="line">  EXTRA_VARS=<span class="string">"-e edx_platform_version=<span class="variable">$OPENEDX_RELEASE</span> \</span></span><br><span class="line"><span class="string">    -e certs_version=<span class="variable">$OPENEDX_RELEASE</span> \</span></span><br><span class="line"><span class="string">    -e forum_version=<span class="variable">$OPENEDX_RELEASE</span> \</span></span><br><span class="line"><span class="string">    -e xqueue_version=<span class="variable">$OPENEDX_RELEASE</span> \</span></span><br><span class="line"><span class="string">  "</span></span><br><span class="line">  CONFIG_VER=<span class="variable">$OPENEDX_RELEASE</span></span><br><span class="line">  <span class="comment"># Need to ensure that the configuration repo is updated</span></span><br><span class="line">  <span class="comment"># The vagrant-devstack.yml playbook will also do this, but only</span></span><br><span class="line">  <span class="comment"># after loading the playbooks into memory.  If these are out of date,</span></span><br><span class="line">  <span class="comment"># this can cause problems (e.g. looking for templates that no longer exist).</span></span><br><span class="line">  /edx/bin/update configuration <span class="variable">$CONFIG_VER</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">  CONFIG_VER=<span class="string">"master"</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line">ansible-playbook -i localhost, -c <span class="built_in">local</span> run_role.yml -e role=edx_ansible -e configuration_version=<span class="variable">$CONFIG_VER</span> <span class="variable">$EXTRA_VARS</span></span><br><span class="line">ansible-playbook -i localhost, -c <span class="built_in">local</span> vagrant-devstack.yml -e configuration_version=<span class="variable">$CONFIG_VER</span> <span class="variable">$EXTRA_VARS</span></span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ chmod +x devstack.sh</span><br><span class="line">$ sudo ./devstack.sh</span><br></pre></td></tr></table></figure>
<p>After installation, try to run studio:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ sudo su edxapp</span><br><span class="line">$ paver devstack studio</span><br></pre></td></tr></table></figure>
<p>Faild due to bundle not installed, looks like Ruby/Gems/Bundle files installed under /edx/app/edxapp/.gems, but not installed properly. Then reinstall them.</p>
<p>Set edxapp user environment varibles, execute following commands as ubuntu user.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ sudo sed -i <span class="string">'/SKIP_WS_MIGRATIONS="1"/ a\export GEM_HOME="/edx/app/edxapp/.gem"\nexport CONFIG_ROOT="/edx/app/edxapp"\nexport GEM_PATH="/edx/app/edxapp/.gem"\nexport RBENV_ROOT="/edx/app/edxapp/.rbenv"'</span> /edx/app/edxapp/edxapp_env</span><br><span class="line">$ sudo sed -i <span class="string">'/export PATH=/ c\export PATH="/edx/app/edxapp/venvs/edxapp/bin:/edx/app/edxapp/edx-platform/bin:/edx/app/edxapp/.rbenv/bin:/edx/app/edxapp/.rbenv/shims:/edx/app/edxapp/.gem/bin:/edx/app/edxapp/edx-platform/node_modules/.bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin"'</span> /edx/app/edxapp/edxapp_env</span><br><span class="line">$ sudo sed -i <span class="string">'/1.9.3/ c\1.9.3-p551'</span> /edx/app/edxapp/edx-platform/.ruby-version</span><br></pre></td></tr></table></figure>
<p>The following commands executed with user edxapp, refer to steps in /edx/app/edx_ansible/edx_ansible/playbooks/roles/rbenv/tasks/main.yml.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$ sudo su edxapp</span><br><span class="line">$ rbenv versions | grep 1.9.3-p551</span><br><span class="line">$ rbenv install 1.9.3-p551</span><br><span class="line">$ rbenv global 1.9.3-p551</span><br><span class="line">$ gem install bundler -v 1.11.2</span><br><span class="line">$ gem install rake -v 10.4.2</span><br><span class="line">$ gem install rubygems-update &amp;&amp; update_rubygems</span><br><span class="line">$ rbenv <span class="built_in">rehash</span></span><br></pre></td></tr></table></figure>
<p>Then run studio again, it works but could not be accessed from remote, the firewall of EC2 blocked the inbound request. Just add new rule with port 8001 to security group, then everything looks fine.</p>
<p>To run studio without pip install requirements every time, set environment varible:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> NO_PREREQ_INSTALL=True</span><br></pre></td></tr></table></figure></p>

                    
                        

                    
                    
                        <p>
                            <a href="/2016/04/21/Open-edX-devstack-on-Ubuntu-without-Vagrant/#post-footer" class="postShorten-excerpt_link link">
                                评论和共享
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a class="link-unstyled" href="/2016/04/21/Install-Magento-1-9-x-on-Ubuntu/">
                            Install Magento 1.9.x on Ubuntu
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2016-04-21T18:07:01+08:00">
	
		    4月 21, 2016
    	
    </time>
    
</div>

            </div>
            
                <div class="postShorten-content">
                    <h2 id="Install-Magento-1-9-x-on-Aliyun"><a href="#Install-Magento-1-9-x-on-Aliyun" class="headerlink" title="Install Magento 1.9.x on Aliyun"></a>Install Magento 1.9.x on Aliyun</h2><h3 id="Environment"><a href="#Environment" class="headerlink" title="Environment"></a>Environment</h3><p>Aliyun, Ubuntu 14.04LTS, 101.200.167.187</p>
<h3 id="Install-LNMP"><a href="#Install-LNMP" class="headerlink" title="Install LNMP"></a>Install LNMP</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ ssh root@101.200.167.187</span><br><span class="line"><span class="comment"># wget http://soft.vpser.net/lnmp/lnmp1.2-full.tar.gz</span></span><br><span class="line"><span class="comment"># tar zxf lnmp1.2-full.tar.gz</span></span><br><span class="line"><span class="comment"># cd lnmp1.2-full</span></span><br><span class="line"><span class="comment"># vim include/mysql.sh</span></span><br></pre></td></tr></table></figure>
<p>Add InnoDB engine to MySQL installation script:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">-DWITH_INNOBASE_STORAGE_ENGINE=1</span><br></pre></td></tr></table></figure>
<p>Please notice the section, looks like:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Install_MySQL_56()</span><br><span class="line">&#123;</span><br><span class="line">...</span><br><span class="line">cmake -DCMAKE_INSTALL_PREFIX=/usr/<span class="built_in">local</span>/mysql -DEXTRA_CHARSETS=all -DDEFAULT_CHARSET=utf8 -DDEFAULT_COLLATION=utf8_general_ci -DWITH_READLINE=1 -DWITH_SSL=bundled -DWITH_ZLIB=system -DWITH_EMBEDDED_SERVER=1 -DENABLED_LOCAL_INFILE=1 -DWITH_INNOBASE_STORAGE_ENGINE=1 <span class="variable">$&#123;MySQL55MAOpt&#125;</span></span><br><span class="line">...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ./install.sh lnmp</span></span><br></pre></td></tr></table></figure>
<p>MySQL root password: xxxxx<br>MySQL 5.6.23<br>PHP 5.6.9<br>Memory Allocator TCMalloc<br>(after about 1 hour build and installation)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">+------------------------------------------------------------------------+</span><br><span class="line">|          LNMP V1.2 for Ubuntu Linux Server, Written by Licess          |</span><br><span class="line">+------------------------------------------------------------------------+</span><br><span class="line">|         For more information please visit http://www.lnmp.org          |</span><br><span class="line">+------------------------------------------------------------------------+</span><br><span class="line">|    lnmp status manage: lnmp &#123;start|stop|reload|restart|kill|status&#125;    |</span><br><span class="line">+------------------------------------------------------------------------+</span><br><span class="line">|  phpMyAdmin: http://IP/phpmyadmin/                                     |</span><br><span class="line">|  phpinfo: http://IP/phpinfo.php                                        |</span><br><span class="line">|  Prober:  http://IP/p.php                                              |</span><br><span class="line">+------------------------------------------------------------------------+</span><br><span class="line">|  Add VirtualHost: lnmp vhost add                                       |</span><br><span class="line">+------------------------------------------------------------------------+</span><br><span class="line">|  Default directory: /home/wwwroot/default                              |</span><br><span class="line">+------------------------------------------------------------------------+</span><br><span class="line">|  MySQL/MariaDB root password: xxxxx                          |</span><br></pre></td></tr></table></figure>
<h3 id="Create-Database"><a href="#Create-Database" class="headerlink" title="Create Database"></a>Create Database</h3><p>Open browser <a href="http://101.200.167.187/phpmyadmin/index.php" target="_blank" rel="noopener">http://101.200.167.187/phpmyadmin/index.php</a><br>Create MySQL user and database:<br>kiwitao / xxxxx (for starting from scratch)<br>magento / xxxxx (for Sample Data)</p>
<h3 id="Create-VHost"><a href="#Create-VHost" class="headerlink" title="Create VHost"></a>Create VHost</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># lnmp vhost add</span></span><br></pre></td></tr></table></figure>
<p>Virtualhost infomation:<br>Your domain: kiuitao.com<br>Home Directory: /home/wwwroot/kiuitao.com<br>Rewrite: other<br>Enable log: yes<br>Create database: no<br>Create ftp account: no</p>
<h3 id="Install-Magento-1-9-2-4"><a href="#Install-Magento-1-9-2-4" class="headerlink" title="Install Magento 1.9.2.4"></a>Install Magento 1.9.2.4</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"># wget http://www.magentocommerce.com/downloads/assets/1.9.2.4/magento-1.9.2.4.tar.gz</span><br><span class="line"># wget http://www.magentocommerce.com/downloads/assets/1.9.1.0/magento-sample-data-1.9.1.0.tar.gz</span><br><span class="line"># tar zxf magento-1.9.2.4-2016-02-23-06-04-07.tar.gz -C /home/wwwroot/kiuitao.com</span><br><span class="line"># cd /home/wwwroot/kiuitao.com</span><br><span class="line"># mv magento/* .</span><br><span class="line"># mv magento/.htaccess .</span><br><span class="line"># mv magenta/.htaccess.sample .</span><br><span class="line"># rmdir magento</span><br><span class="line"># chown -R www:www /home/wwwroot/kiuitao.com</span><br></pre></td></tr></table></figure>
<p>Open browser <a href="http://kiuitao.com/" target="_blank" rel="noopener">http://kiuitao.com/</a><br>Follow the guide on pages to finish setup, (skip Base URL check if it failed.)</p>
<p>Admin Account:<br>kvtadmin / xxxxx</p>
<p>encryption key:<br>xxxxxxxxxx</p>
<h3 id="Install-Magento-Sample-Data-1-9-1-0"><a href="#Install-Magento-Sample-Data-1-9-1-0" class="headerlink" title="Install Magento Sample Data 1.9.1.0"></a>Install Magento Sample Data 1.9.1.0</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># tar jxf magento-sample-data-1.9.1.0.tar-2015-02-11-09-56-42.bz2</span></span><br><span class="line"><span class="comment"># cd magento-sample-data-1.9.1.0</span></span><br><span class="line"><span class="comment"># mysql -u magento -p -h localhost magento &lt; magento_sample_data_for_1.9.1.0.sql</span></span><br><span class="line"><span class="comment"># cp -R media /home/wwwroot/kiuitao.com/</span></span><br><span class="line"><span class="comment"># cp -R skin /home/wwwroot/kiuitao.com/</span></span><br></pre></td></tr></table></figure>
<p>Open browser <a href="http://kiuitao.com/" target="_blank" rel="noopener">http://kiuitao.com/</a><br>Follow the guide on pages to finish setup, (skip Base URL check if it failed.)</p>
<p>Admin Account:<br>kvtadmin / xxxxx</p>
<p>encryption key:<br>xxxxxxxxxx</p>

                    
                        

                    
                    
                        <p>
                            <a href="/2016/04/21/Install-Magento-1-9-x-on-Ubuntu/#post-footer" class="postShorten-excerpt_link link">
                                评论和共享
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a class="link-unstyled" href="/2016/04/21/桃花庵歌/">
                            桃花庵歌
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2016-04-21T17:49:53+08:00">
	
		    4月 21, 2016
    	
    </time>
    
</div>

            </div>
            
                <div class="postShorten-content">
                    <h2 id="桃花庵歌"><a href="#桃花庵歌" class="headerlink" title="桃花庵歌"></a>桃花庵歌</h2><p>桃花坞里桃花庵，桃花庵下桃花仙<br>桃花仙人种桃树，又折花枝当酒钱<br>酒醒只在花前坐，酒醉还须花下眠<br>花前花后日复日，酒醉酒醒年复年<br>不愿鞠躬车马前，但愿老死花酒间<br>车尘马足贵者趣，酒盏花枝贫者缘<br>若将富贵比贫贱，一在平地一在天<br>若将贫贱比车马，他得驱驰我得闲<br>世人笑我忒疯癫，我笑世人看不穿<br>记得五陵豪杰墓，无花无酒锄作田  </p>

                    
                        

                    
                    
                        <p>
                            <a href="/2016/04/21/桃花庵歌/#post-footer" class="postShorten-excerpt_link link">
                                评论和共享
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a class="link-unstyled" href="/2016/04/21/Open-edX-devstack-on-Ubuntu-host/">
                            Open edX devstack on Ubuntu host
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2016-04-21T17:47:25+08:00">
	
		    4月 21, 2016
    	
    </time>
    
</div>

            </div>
            
                <div class="postShorten-content">
                    <h1 id="Open-edX-Devstack-Ubuntu-host"><a href="#Open-edX-Devstack-Ubuntu-host" class="headerlink" title="Open edX Devstack Ubuntu host"></a>Open edX Devstack Ubuntu host</h1><p>安装环境，Ubuntu 14.04 LTS Desktop，ThinkPad T450.</p>
<h2 id="安装VirtualBox和Vagrant"><a href="#安装VirtualBox和Vagrant" class="headerlink" title="安装VirtualBox和Vagrant"></a>安装VirtualBox和Vagrant</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo vi /etc/apt/sources.list</span><br></pre></td></tr></table></figure>
<p>在文档最后添加VirtualBox源：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">deb http://download.virtualbox.org/virtualbox/debian trusty contrib</span><br></pre></td></tr></table></figure></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ wget -q https://www.virtualbox.org/download/oracle_vbox.asc -O- | sudo apt-key add -</span><br><span class="line">$ sudo apt-get update</span><br><span class="line">$ sudo apt-get install virtualbox-5.0</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ wget https://releases.hashicorp.com/vagrant/1.8.1/vagrant_1.8.1_x86_64.deb</span><br><span class="line">$ sudo dpkg -i vagrant_1.8.1_x86_64.deb</span><br></pre></td></tr></table></figure>
<p>安装Vagrant plugins，vagrant-vbguest等。<br>修改Vagrant所用Ruby gems服务器为淘宝的镜像： </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ grep -rl <span class="string">"https://rubygems.org"</span> /opt/vagrant/embedded/gems/ | xargs sudo sed -i <span class="string">'s/https\:\/\/rubygems.org/https\:\/\/ruby.taobao.org/g'</span></span><br><span class="line">$ grep -rl <span class="string">"https://rubygems.org"</span> /opt/vagrant/embedded/gems/</span><br><span class="line">$ vagrant plugin install vagrant-vbguest</span><br></pre></td></tr></table></figure>
<h2 id="导入provision好的devstack-box"><a href="#导入provision好的devstack-box" class="headerlink" title="导入provision好的devstack box"></a>导入provision好的devstack box</h2><p>安装配置sftp server，用于传输文件，也可以用其它方式。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">$ sudo apt-get install openssh-server</span><br><span class="line">$ sudo addgroup sftp-users</span><br><span class="line">$ sudo adduser alice</span><br><span class="line">$ sudo usermod -G sftp-users -s /bin/<span class="literal">false</span> alice</span><br><span class="line">$ sudo addgroup ssh-users</span><br><span class="line">$ sudo usermod -a -G ssh-users jinpeng</span><br><span class="line">$ sudo mkdir /home/sftp_root</span><br><span class="line">$ sudo mkdir /home/sftp_root/shared</span><br><span class="line">$ sudo chown jinpeng:sftp-users /home/sftp_root/shared</span><br><span class="line">$ sudo chmod 770 /home/sftp_root/shared</span><br><span class="line">$ sudo vi /etc/ssh/sshd_config </span><br><span class="line">$ sudo reboot now</span><br></pre></td></tr></table></figure>
<p>其中在sshd_config中最后面添加以下内容：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">AllowGroups ssh-users sftp-users</span><br><span class="line">Match Group sftp-users</span><br><span class="line">    ChrootDirectory /home/sftp_root</span><br><span class="line">    AllowTcpForwarding no</span><br><span class="line">    X11Forwarding no</span><br><span class="line">    ForceCommand internal-sftp</span><br></pre></td></tr></table></figure>
<p>生成ssh key，在devstack的Vagranfile中使用到：  </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ mkdir ~/.ssh</span><br><span class="line">$ ssh-keygen</span><br></pre></td></tr></table></figure>
<p>安装NFS服务：  </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo apt-get install nfs-common nfs-kernel-server</span><br></pre></td></tr></table></figure>
<p>导入provision好的devstack box:   </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ vagrant box add dogwood-devstack-provisioned ~/Download/devstack_mac.box</span><br></pre></td></tr></table></figure>
<h2 id="启动虚拟机"><a href="#启动虚拟机" class="headerlink" title="启动虚拟机"></a>启动虚拟机</h2><p>启动虚拟机：  </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ mkdir ~/openedx</span><br><span class="line">$ <span class="built_in">cd</span> openedx</span><br><span class="line">$ git <span class="built_in">clone</span> https://github.com/jinpeng/openedx/devstack</span><br><span class="line">$ <span class="built_in">cd</span> devstack</span><br><span class="line">$ vagrant up</span><br></pre></td></tr></table></figure>
<p>如果遇到ssh authentication问题：  </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ ssh-copy-id vagrant@192.168.33.10</span><br><span class="line">$ vagrant reload</span><br></pre></td></tr></table></figure>
<h2 id="解决googleapis的问题"><a href="#解决googleapis的问题" class="headerlink" title="解决googleapis的问题"></a>解决googleapis的问题</h2><p>由于众所周知的原因，open edX用到的fonts.googleapis.com，ajax.googleapis.com等</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cd</span> ~/openedx/devstack</span><br><span class="line">$ grep -rl <span class="string">"ajax.googleapis.com"</span> edx-platform | xargs sudo sed -i <span class="string">'s/ajax.googleapis.com/ajax.useso.com/g'</span></span><br><span class="line">$ vagrant ssh</span><br><span class="line">$ sudo vi /edx/app/edxapp/venvs/edxapp/lib/python2.7/site-packages/debug_toolbar/settings.py</span><br></pre></td></tr></table></figure>
<h2 id="启动Studio"><a href="#启动Studio" class="headerlink" title="启动Studio"></a>启动Studio</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cd</span> ~/openedx/devstack</span><br><span class="line">$ vagrant ssh</span><br><span class="line">$ sudo su edxapp</span><br><span class="line">$ paver devstack studio</span><br></pre></td></tr></table></figure>
<p>在host上打开浏览器，访问：<br><a href="http://192.168.33.10:8001/" target="_blank" rel="noopener">http://192.168.33.10:8001/</a><br>可以看到studio的登录界面，用预置账户staff@example.com / edx登录。</p>

                    
                        

                    
                    
                        <p>
                            <a href="/2016/04/21/Open-edX-devstack-on-Ubuntu-host/#post-footer" class="postShorten-excerpt_link link">
                                评论和共享
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    <div class="pagination-bar">
    <ul class="pagination">
        
        
        <li class="pagination-number">第 1 页 共 1 页</li>
    </ul>
</div>

</section>



                <footer id="footer" class="main-content-wrap">
    <span class="copyrights">
        Copyrights &copy; 2018 Dong Jinpeng. All Rights Reserved.
    </span>
</footer>

            </div>
            
        </div>
        


<div id="about">
    <div id="about-card">
        <div id="about-btn-close">
            <i class="fa fa-remove"></i>
        </div>
        
            <h4 id="about-card-name">Dong Jinpeng</h4>
        
            <div id="about-card-bio"><p>author.bio</p>
</div>
        
        
            <div id="about-card-job">
                <i class="fa fa-briefcase"></i>
                <br/>
                <p>author.job</p>

            </div>
        
        
    </div>
</div>

        
            <div id="algolia-search-modal" class="modal-container">
    <div class="modal">
        <div class="modal-header">
            <span class="close-button"><i class="fa fa-close"></i></span>
            <a href="https://algolia.com" target="_blank" rel="noopener" class="searchby-algolia text-color-light link-unstyled">
                <span class="searchby-algolia-text text-color-light text-small">by</span>
                <img class="searchby-algolia-logo" src="https://www.algolia.com/static_assets/images/press/downloads/algolia-light.svg">
            </a>
            <i class="search-icon fa fa-search"></i>
            <form id="algolia-search-form">
                <input type="text" id="algolia-search-input" name="search"
                    class="form-control input--large search-input" placeholder="Search "
                    />
            </form>
        </div>
        <div class="modal-body">
            <div class="no-result text-color-light text-center">没有找到文章</div>
            <div class="results">
                
                <div class="media">
                    
                    <div class="media-body">
                        <a class="link-unstyled" href="http://jinpeng.github.io/2015/08/28/hello-world/">
                            <h3 class="media-heading">Hello World</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    2015年8月28日
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-body">
                        <a class="link-unstyled" href="http://jinpeng.github.io/2015/08/28/Greek-Alphabet/">
                            <h3 class="media-heading">Greek Alphabet</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    2015年8月28日
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-body">
                        <a class="link-unstyled" href="http://jinpeng.github.io/2015/12/17/Go-Programming-Lanauges-Reading-Notes-Chapter-1/">
                            <h3 class="media-heading">Go Programming Lanauges Reading Notes Chapter 1</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    2015年12月17日
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-body">
                        <a class="link-unstyled" href="http://jinpeng.github.io/2016/04/21/Open-edX-devstack-on-Ubuntu-host/">
                            <h3 class="media-heading">Open edX devstack on Ubuntu host</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    2016年4月21日
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-body">
                        <a class="link-unstyled" href="http://jinpeng.github.io/2016/04/21/桃花庵歌/">
                            <h3 class="media-heading">桃花庵歌</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    2016年4月21日
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-body">
                        <a class="link-unstyled" href="http://jinpeng.github.io/2016/04/21/Install-Magento-1-9-x-on-Ubuntu/">
                            <h3 class="media-heading">Install Magento 1.9.x on Ubuntu</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    2016年4月21日
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-body">
                        <a class="link-unstyled" href="http://jinpeng.github.io/2016/04/21/Open-edX-devstack-on-Ubuntu-without-Vagrant/">
                            <h3 class="media-heading">Open edX devstack on Ubuntu without Vagrant</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    2016年4月21日
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-body">
                        <a class="link-unstyled" href="http://jinpeng.github.io/2016/04/28/Open-edX-Analytics-devstack-on-Ubuntu-without-Vagrant/">
                            <h3 class="media-heading">Open edX Analytics devstack on Ubuntu without Vagrant</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    2016年4月28日
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-body">
                        <a class="link-unstyled" href="http://jinpeng.github.io/2016/06/01/Python-debug-with-PDB/">
                            <h3 class="media-heading">Python debug with PDB</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    2016年6月1日
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-body">
                        <a class="link-unstyled" href="http://jinpeng.github.io/2016/08/19/Install-Tensorflow-on-Ubuntu-16-04-with-NVidia-GPU-accelerating/">
                            <h3 class="media-heading">Install Tensorflow on Ubuntu 16.04 with NVidia GPU accelerating</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    2016年8月19日
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
            </div>
        </div>
        <div class="modal-footer">
            <p class="results-count text-medium"
                data-message-zero="没有找到文章"
                data-message-one="找到 1 篇文章"
                data-message-other="找到 {n} 篇文章">
                找到 12 篇文章
            </p>
        </div>
    </div>
</div>

        
        
<div id="cover" style="background-image:url('/assets/images/cover.jpg');"></div>
        <!--SCRIPTS-->
<script src="/assets/js/script-djevwqxl6eph0dlinlfrybdcvdicncbdpytef8rrutr3vwlwafcjdl6swsop.min.js"></script>
<!--SCRIPTS END-->


    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.14.1/moment-with-locales.min.js"></script>
    <script src="//cdn.jsdelivr.net/algoliasearch/3/algoliasearch.min.js"></script>
    <script>
        var algoliaClient = algoliasearch('10EH72KECT', 'a366c3ad0701974d30e9be2a4847fd11');
        var algoliaIndex = algoliaClient.initIndex('jp-hexo-blog');
    </script>


    <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ["$","$"], ["\\(","\\)"] ],
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
            processEscapes: true
        }
    });
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax();
        for (var i = 0; i < all.length; ++i)
            all[i].SourceElement().parentNode.className += ' has-jax';
    });
</script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-MML-AM_CHTML' async></script><!-- hexo-inject:begin --><!-- hexo-inject:end -->

</body>
</html>
